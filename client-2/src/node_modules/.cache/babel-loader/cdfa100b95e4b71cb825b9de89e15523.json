{"ast":null,"code":"import axios from 'axios';\nimport { SWAGGER_URL } from '../../Support/API_URL';\nimport { user_start, user_register, user_login, user_keep_login, user_change_pass, user_logout, user_failed } from '../Types';\nexport const userRegister = form => {\n  return async dispatch => {\n    dispatch({\n      type: user_start\n    });\n\n    try {\n      let res = await axios.post(`${SWAGGER_URL}/users`, form);\n      let {\n        accessToken\n      } = res.data.data;\n      dispatch({\n        type: user_register,\n        payload: res.data.data.user\n      });\n      localStorage.setItem(`token`, accessToken);\n      console.log('register berhasil');\n    } catch {\n      dispatch({\n        type: user_failed\n      });\n      console.log('register gagal');\n    }\n  };\n};\nexport const userLogin = form => {\n  return async dispatch => {\n    dispatch({\n      type: user_start\n    });\n\n    try {\n      let res = await axios.post(`${SWAGGER_URL}/users/login`, form);\n      let {\n        accessToken\n      } = res.data.data;\n      dispatch({\n        type: user_login,\n        payload: res.data.data.user\n      });\n      localStorage.setItem('token', accessToken);\n      console.log('login berhasil');\n    } catch {\n      dispatch({\n        type: user_failed\n      });\n      console.log('login gagal');\n    }\n  };\n};\nexport const logOut = () => {\n  return dispatch => {\n    localStorage.removeItem('token');\n    dispatch({\n      type: user_logout\n    });\n  };\n};\nexport const keepLogin = () => {\n  return async dispatch => {\n    dispatch({\n      type: user_start\n    });\n    const token = localStorage.getItem('token');\n\n    try {\n      if (token) {\n        let options = {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n            'Authorization': `Bearer ${token}`\n          }\n        };\n        let res = await axios.get(`${SWAGGER_URL}/users/me`, options);\n        dispatch({\n          type: user_keep_login,\n          payload: res.data.data.user\n        });\n        console.log('keep login is running');\n      }\n    } catch {\n      dispatch({\n        type: user_failed\n      });\n    }\n  };\n};\nexport const changePassword = form => {\n  return async dispatch => {\n    dispatch({\n      type: user_start\n    });\n    const token = localStorage.getItem('token');\n\n    try {\n      if (token) {\n        let options = {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n            'Authorization': `Bearer ${token}`\n          }\n        };\n        let res = await axios.put(`${SWAGGER_URL}/users/change-password`, form, options);\n        dispatch({\n          type: user_change_pass,\n          payload: res.data\n        });\n      }\n    } catch {\n      dispatch({\n        type: user_failed\n      });\n    }\n  };\n};","map":{"version":3,"sources":["E:/front-end-client/client/src/Redux/Actions/UserAction.js"],"names":["axios","SWAGGER_URL","user_start","user_register","user_login","user_keep_login","user_change_pass","user_logout","user_failed","userRegister","form","dispatch","type","res","post","accessToken","data","payload","user","localStorage","setItem","console","log","userLogin","logOut","removeItem","keepLogin","token","getItem","options","headers","get","changePassword","put"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { SWAGGER_URL } from '../../Support/API_URL';\r\nimport {\r\n    user_start,\r\n    user_register,\r\n    user_login,\r\n    user_keep_login,\r\n    user_change_pass,\r\n    user_logout,\r\n    user_failed,\r\n} from '../Types';\r\n\r\nexport const userRegister = (form) => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: user_start,\r\n        });\r\n        try {\r\n            let res = await axios.post(`${SWAGGER_URL}/users`, form);\r\n            let { accessToken } = res.data.data;\r\n            dispatch({\r\n                type: user_register,\r\n                payload: res.data.data.user,\r\n            });\r\n            localStorage.setItem(`token`, accessToken);\r\n            console.log('register berhasil');\r\n        } catch {\r\n            dispatch({\r\n                type: user_failed,\r\n            });\r\n            console.log('register gagal');\r\n        }\r\n    };\r\n};\r\n\r\nexport const userLogin = (form) => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: user_start,\r\n        });\r\n        try {\r\n            let res = await axios.post(`${SWAGGER_URL}/users/login`, form);\r\n            let { accessToken } = res.data.data;\r\n            dispatch({\r\n                type: user_login,\r\n                payload: res.data.data.user,\r\n            });\r\n            localStorage.setItem('token',accessToken);\r\n            console.log('login berhasil');\r\n        } catch {\r\n            dispatch({\r\n                type: user_failed,\r\n            });\r\n            console.log('login gagal');\r\n        }\r\n    };\r\n};\r\n\r\nexport const logOut = () => {\r\n    return (dispatch) => {\r\n        localStorage.removeItem('token');\r\n        dispatch({\r\n            type: user_logout,\r\n        });\r\n    };\r\n};\r\n\r\nexport const keepLogin = () => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: user_start,\r\n        });\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            if (token) {\r\n                let options = {\r\n                    headers : {\r\n                        'Access-Control-Allow-Origin': '*',\r\n                        'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\r\n                        'Authorization': `Bearer ${token}`,\r\n                    },\r\n                };\r\n                let res = await axios.get(`${SWAGGER_URL}/users/me`, options);\r\n                dispatch({\r\n                    type: user_keep_login,\r\n                    payload: res.data.data.user,\r\n                });\r\n                console.log('keep login is running');\r\n            }\r\n        } catch {\r\n            dispatch({\r\n                type: user_failed,\r\n            });\r\n        }\r\n    };\r\n};\r\n\r\nexport const changePassword = (form) => {\r\n    return async dispatch => {\r\n        dispatch({\r\n            type: user_start,\r\n        });\r\n        const token = localStorage.getItem('token');\r\n        try {\r\n            if (token) {\r\n                let options = {\r\n                    headers : {\r\n                        'Access-Control-Allow-Origin': '*',\r\n                        'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\r\n                        'Authorization': `Bearer ${token}`,\r\n                    },\r\n                };\r\n                let res = await axios.put(`${SWAGGER_URL}/users/change-password`, form, options);\r\n                dispatch({\r\n                    type: user_change_pass,\r\n                    payload: res.data,\r\n                });\r\n            }\r\n        } catch {\r\n            dispatch({\r\n                type: user_failed,\r\n            });\r\n        }\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}